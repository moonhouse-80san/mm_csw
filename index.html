<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#2196F3">
    <title>íšŒì› ê´€ë¦¬ ì•±</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 10px;
            overflow-x: hidden;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        /* ì•”í˜¸ ì…ë ¥ ì„¹ì…˜ - ì£¼í™©ìƒ‰ ë°°ê²½ */
        .password-section {
            background: linear-gradient(135deg, #FF9800, #F57C00);
            padding: 15px 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            border-bottom: 2px solid #e0e0e0;
        }

        .password-input-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .password-input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid rgba(255,255,255,0.5);
            border-radius: 10px;
            font-size: 16px;
            background: rgba(255,255,255,0.9);
            color: #333;
        }

        .password-input:focus {
            outline: none;
            border-color: white;
            background: white;
        }

        .unlock-btn {
            padding: 12px 20px;
            background: #2196F3;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .unlock-btn:hover {
            background: #1976D2;
            transform: translateY(-2px);
        }

        .lock-status {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 14px;
            color: white;
            font-weight: 500;
            padding: 5px 10px;
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            margin-top: 5px;
        }

        .lock-status.locked {
            color: #FFEB3B;
        }

        .lock-status.unlocked {
            color: #4CAF50;
        }

        /* ì ê¹€ ìƒíƒœì¼ ë•Œ ë²„íŠ¼ ìˆ¨ê¸°ê¸° */
        .locked .member-actions {
            display: none !important;
        }

        /* ì ê¸ˆ í•´ì œ ì‹œ ë²„íŠ¼ í‘œì‹œ */
        .unlocked .member-actions {
            display: flex;
        }

        .header {
            background: linear-gradient(135deg, #2196F3, #1976D2);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-size: 20px;
            margin-bottom: 5px;
        }

        .club-name {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .member-count {
            font-size: 14px;
            opacity: 0.9;
        }

        .sync-status {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 12px;
            background: rgba(255,255,255,0.2);
            padding: 5px 10px;
            border-radius: 15px;
        }

        .settings-icon {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 30px;
            height: 30px;
            cursor: pointer;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .settings-icon:hover {
            background: rgba(255,255,255,0.3);
            transform: rotate(90deg);
        }

        .settings-icon svg {
            width: 20px;
            height: 20px;
            fill: white;
        }

        .search-section {
            padding: 15px 20px;
            background: #f8f9fa;
            border-bottom: 2px solid #e0e0e0;
        }

        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }

        .search-box input {
            flex: 1;
            padding: 10px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 14px;
        }

        .search-box input:focus {
            outline: none;
            border-color: #2196F3;
        }

        .filter-buttons {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 6px 12px;
            border: 2px solid #e0e0e0;
            border-radius: 20px;
            background: white;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .filter-btn.active {
            background: #2196F3;
            color: white;
            border-color: #2196F3;
        }

        .form-section {
            padding: 20px;
            background: #f8f9fa;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .form-group {
            margin-bottom: 0;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #333;
            font-weight: 500;
            font-size: 14px;
        }

        .form-group input, 
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #2196F3;
        }

        .photo-btn {
            padding: 12px;
            background: linear-gradient(135deg, #2196F3, #1976D2);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .photo-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }

        .photo-preview-container {
            margin-top: 10px;
            display: none;
            text-align: center;
        }

        .photo-preview {
            position: relative;
            width: 400px;
            height: 400px;
            max-width: 100%;
            border-radius: 10px;
            overflow: hidden;
            border: 2px solid #e0e0e0;
            margin: 0 auto;
            background: #f0f0f0;
        }

        .photo-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .remove-photo-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 40px;
            height: 40px;
            background: #f44336;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            z-index: 10;
        }

        .time-group {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 10px;
            align-items: center;
        }

        .time-group span {
            text-align: center;
            font-weight: bold;
            color: #666;
        }

        .schedule-section-header {
            font-size: 14px;
            font-weight: 600;
            color: #2196F3;
            margin: 15px 0 10px 0;
            padding-bottom: 5px;
            border-bottom: 2px solid #e0e0e0;
        }

        .fee-presets {
            display: flex;
            flex-wrap: nowrap;
            gap: 5px;
            margin-top: 10px;
        }

        .fee-presets input {
            flex: 1;
            min-width: 0;
            padding: 8px 5px;
            text-align: center;
        }

        .fee-preset-btn {
            padding: 6px 12px;
            background: #f0f0f0;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .fee-preset-btn:hover {
            background: #e0e0e0;
        }

        .phone-link {
            color: #1976D2;
            text-decoration: none;
            cursor: pointer;
            transition: color 0.3s;
        }

        .phone-link:hover {
            color: #0d47a1;
            text-decoration: underline;
        }

        /* ìˆ˜ì •: ì¶”ê°€/ìˆ˜ì •/ì´ˆê¸°í™” ë²„íŠ¼ì„ ëª¨ë°”ì¼ì—ì„œ í•œ ì¤„ë¡œ */
        .button-group {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .btn {
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            color: white;
        }

        .btn:active {
            transform: scale(0.95);
        }

        .btn-add {
            background: linear-gradient(135deg, #4CAF50, #45a049);
        }

        .btn-update {
            background: linear-gradient(135deg, #2196F3, #1976D2);
        }

        .btn-clear {
            background: linear-gradient(135deg, #FF9800, #F57C00);
        }

        /* ì ê¸ˆ ìƒíƒœì—ì„œ ë¹„í™œì„±í™”ëœ ë²„íŠ¼ */
        .btn-disabled {
            background: linear-gradient(135deg, #9E9E9E, #757575) !important;
            cursor: not-allowed;
            opacity: 0.6;
            position: relative;
        }

        .btn-disabled::after {
            content: "ğŸ”’ ì ê¸ˆ í•´ì œ í•„ìš”";
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 1000;
        }

        .btn-disabled:hover::after {
            opacity: 1;
        }

        .tab-section {
            padding: 0 20px;
            background: #f8f9fa;
            border-bottom: 2px solid #e0e0e0;
        }

        .tabs {
            display: flex;
            gap: 5px;
        }

        .tab-btn {
            padding: 10px 20px;
            background: white;
            border: 2px solid #e0e0e0;
            border-bottom: none;
            border-radius: 10px 10px 0 0;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .tab-btn.active {
            background: #2196F3;
            color: white;
            border-color: #2196F3;
        }

        .content-section {
            max-height: 500px;
            overflow-y: auto;
            padding: 20px;
        }

        /* ìˆ˜ì •: íšŒì› ì¹´ë“œ ë ˆì´ì•„ì›ƒ - ì‚¬ì§„ ìš°ì¸¡ì— ì´ë¦„ê³¼ ë²„íŠ¼ */
        .member-card {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex;
            align-items: flex-start;
        }

        .member-photo-container {
            width: 100px;
            height: 100px;
            flex-shrink: 0;
            margin-right: 15px;
        }

        .member-photo {
            width: 100%;
            height: 100%;
            border-radius: 8px;
            object-fit: cover;
            border: 2px solid #e0e0e0;
        }

        .member-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .member-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .member-name {
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }

        .member-actions {
            display: flex;
            gap: 5px;
        }

        .btn-edit, .btn-delete {
            padding: 8px 15px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            color: white;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-edit {
            background: #2196F3;
        }

        .btn-delete {
            background: #f44336;
        }

        .member-info {
            font-size: 14px;
            color: #666;
            line-height: 1.8;
        }

        .member-info div {
            margin-bottom: 3px;
        }

        .info-badge {
            display: inline-block;
            padding: 3px 8px;
            background: #e3f2fd;
            color: #1976d2;
            border-radius: 4px;
            font-size: 12px;
            margin-right: 5px;
            margin-top: 5px;
        }

        .schedule-badge {
            display: inline-block;
            padding: 3px 8px;
            background: #f0f4ff;
            color: #4a6bff;
            border-radius: 4px;
            font-size: 12px;
            margin-right: 5px;
            margin-top: 5px;
            border-left: 3px solid #4a6bff;
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #999;
        }

        .empty-state svg {
            width: 80px;
            height: 80px;
            margin-bottom: 15px;
            opacity: 0.3;
        }

        .schedule-section {
            display: none;
        }

        .schedule-section.active {
            display: block;
        }

        .day-schedule {
            margin-bottom: 25px;
        }

        .day-header {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .day-name {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .day-count {
            background: #2196F3;
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 12px;
        }

        .time-slot {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 10px;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .time-range {
            font-weight: 500;
            color: #333;
        }

        .time-members {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .time-member {
            background: #e3f2fd;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
        }

        .no-schedule {
            color: #999;
            font-style: italic;
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 400px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-header h2 {
            font-size: 20px;
        }

        .close-btn {
            width: 30px;
            height: 30px;
            border: none;
            background: #f0f0f0;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            line-height: 1;
        }

        .modal-content p {
            margin-bottom: 20px;
            font-size: 16px;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .modal-buttons button {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            color: white;
        }

        .password-input {
            margin-bottom: 15px;
        }

        .password-input input {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
        }

        /* ì¹´ë©”ë¼ ëª¨ë‹¬ ì „ìš© ìŠ¤íƒ€ì¼ */
        #cameraModal .modal-content {
            max-width: 500px !important;
            width: 95%;
            padding: 20px;
        }

        .camera-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            justify-content: center;
        }

        .camera-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            background: #4CAF50;
            color: white;
            font-weight: 600;
            cursor: pointer;
            flex: 1;
        }

        .camera-btn.active {
            background: #2196F3;
            box-shadow: 0 0 0 2px #fff, 0 0 0 4px #2196F3;
        }

        .camera-btn:last-child {
            background: #2196F3;
        }

        #cameraVideo {
            width: 100%;
            height: auto;
            max-height: 60vh;
            border-radius: 10px;
            background: #000;
            object-fit: cover;
        }

        .capture-btn {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: white;
            border: 4px solid #f0f0f0;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .capture-btn:active {
            transform: scale(0.95);
            background: #f0f0f0;
        }

        .capture-inner {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #f44336;
            border: 2px solid white;
        }

        .content-section::-webkit-scrollbar {
            width: 8px;
        }

        .content-section::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .content-section::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .member-card {
            animation: slideIn 0.3s ease;
        }

        .time-slot {
            animation: slideIn 0.3s ease;
        }

        /* ìë™ ì ê¸ˆ íƒ€ì´ë¨¸ í‘œì‹œ */
        .lock-timer {
            font-size: 11px;
            margin-left: 5px;
            color: rgba(255,255,255,0.8);
        }

        @media (max-width: 600px) {
            .form-grid {
                grid-template-columns: 1fr;
            }

            /* ìˆ˜ì •: ì¶”ê°€/ìˆ˜ì •/ì´ˆê¸°í™” ë²„íŠ¼ì„ ëª¨ë°”ì¼ì—ì„œ í•œ ì¤„ë¡œ ìœ ì§€ */
            .button-group {
                grid-template-columns: repeat(3, 1fr);
                gap: 8px;
            }

            .button-group .btn {
                padding: 10px;
                font-size: 14px;
            }

            .filter-buttons {
                font-size: 11px;
            }

            .time-group {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto;
            }

            .time-group span {
                order: 2;
            }

            .member-card {
                display: flex;
                gap: 14px;
                align-items: flex-start;
            }

            /* ì‚¬ì§„ ì˜ì—­ */
            .member-photo-container {
                width: 90px;
                height: 90px;
                object-fit: cover;
                border-radius: 8px;
                margin-right: 5px;
            }

            /* ì˜¤ë¥¸ìª½ ì „ì²´ ì •ë³´ ì˜ì—­ */
            .member-content {
                flex: 1;
                margin-left: 1px;
            }

            /* ìƒë‹¨: ì´ë¦„ + ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ (ê°™ì€ ì¤„) */
            .member-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 6px;
            }

            /* ì´ë¦„ ê°•ì¡° */
            .member-name {
                font-weight: bold;
                font-size: 17px;
            }

            /* ë²„íŠ¼ ê·¸ë£¹ */
            .member-actions {
                display: flex;
                gap: 6px;
            }

            /* í•˜ë‹¨: ì „í™”ë²ˆí˜¸ + ê¸°íƒ€ ì •ë³´ (ì´ë¦„ ì•„ë˜) */
            .member-info {
                font-size: 14px;
                color: #555;
                line-height: 1.5;
            }

            .photo-preview {
                width: 300px;
                height: 300px;
            }

            #cameraModal .modal-content {
                padding: 15px;
                margin: 10px;
            }

            .camera-controls {
                flex-direction: column;
            }

            .camera-btn {
                width: 100%;
            }

            /* ì•”í˜¸ ì…ë ¥ ì„¹ì…˜ ëª¨ë°”ì¼ ìµœì í™” */
            .password-input-group {
                flex-direction: column;
            }

            .password-input {
                width: 100%;
            }

            .unlock-btn {
                width: 100%;
            }
        }

        @media (max-width: 400px) {
            .photo-preview {
                width: 250px;
                height: 250px;
            }
            
            /* ì‘ì€ í™”ë©´ì—ì„œ ë²„íŠ¼ í…ìŠ¤íŠ¸ ì¤„ì´ê¸° */
            .button-group .btn {
                font-size: 12px;
                padding: 8px 5px;
            }
            
            .btn-edit, .btn-delete {
                padding: 6px 10px;
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="sync-status" id="syncStatus">â˜ï¸ ë™ê¸°í™”</div>
            <div class="settings-icon" onclick="openSettings()">
                <svg viewBox="0 0 24 24">
                    <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c.04-0.24.24-0.41.48-0.41 h3.84c0.24,0,0.43,0.17,0.47,0.41L19.25,5.35c0.59,0.24,1.13,0.56,1.62,0.94l2.39-0.96c0.22-0.08,0.47,0,0.59,0.22l1.92,3.32 c0.12,0.22,0.07,0.47-0.12,0.61l-2.03,1.58c0.05,0.3,0.07,0.63,0.07,0.94s-0.02,0.64-0.07,0.94l2.03,1.58 c0.18,0.14,0.23,0.41,0.12,0.61l-1.92,3.32c-0.12,0.22-0.37,0.29-0.59,0.22l-2.39-0.96c-0.5,0.38-1.03,0.7-1.62,0.94l-0.36,2.54 c-0.05,0.24-0.24,0.41-0.47,0.41h-3.84c-0.24,0-0.44-0.17-0.48-0.41l-0.36-2.54c-0.59-0.24-1.13-0.56-1.62-0.94l-2.39,0.96 c-0.22,0.08-0.47,0-0.59-0.22l-1.92,3.32c-0.12-0.22-0.07-0.47,0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
                </svg>
            </div>
            <h1>ğŸ‘¥ íšŒì› ê´€ë¦¬</h1>
            <div class="club-name" id="clubNameDisplay">êµ¬ì¥ëª…ì„ ì„¤ì •í•˜ì„¸ìš”</div>
            <div class="member-count">ì´ <span id="memberCount">0</span>ëª…</div>
        </div>

        <!-- ... (ì¤‘ê°„ HTML ë‚´ìš©ì€ ë™ì¼í•˜ê²Œ ìœ ì§€) ... -->

        <!-- ì•”í˜¸ ì…ë ¥ ì„¹ì…˜ - ì£¼í™©ìƒ‰ ë°°ê²½ -->
        <div class="password-section">
            <div class="password-input-group">
                <input type="password" 
                       id="lockPassword" 
                       class="password-input" 
                       placeholder="ì•”í˜¸ ì…ë ¥"
                       onkeyup="if(event.key === 'Enter') unlockEditButtons()">
                <button class="unlock-btn" onclick="unlockEditButtons()">
                    ğŸ”“ ì ê¸ˆ í•´ì œ 
                    <div class="lock-status locked" id="lockStatus">
                        ğŸ”’ ì ê¹€ ìƒíƒœ - ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥ ì‚¬ìš© ë¶ˆê°€
                        <span class="lock-timer" id="lockTimer"></span>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- ... (ëª¨ë‹¬ ì°½ë“¤ì€ ë™ì¼í•˜ê²Œ ìœ ì§€) ... -->

    <script>
        // ... (Firebase ì„¤ì • ë° ë³€ìˆ˜ ì„ ì–¸ì€ ë™ì¼) ...

        // ========== ë³´ì•ˆ ê¸°ëŠ¥ ==========
        
        // ì ê¸ˆ ìƒíƒœ ì—…ë°ì´íŠ¸
        function updateLockStatus() {
            const lockStatusEl = document.getElementById('lockStatus');
            const updateBtn = document.getElementById('updateBtn');
            
            if (isUnlocked) {
                lockStatusEl.innerHTML = `ğŸ”“ ì ê¸ˆ í•´ì œë¨ - ${formatTime(remainingTime)} í›„ ìë™ ì ê¸ˆ <span class="lock-timer" id="lockTimer"></span>`;
                lockStatusEl.classList.remove('locked');
                lockStatusEl.classList.add('unlocked');
                
                // ìˆ˜ì • ë²„íŠ¼ í™œì„±í™”
                updateBtn.classList.remove('btn-disabled');
                updateBtn.classList.add('btn-update');
                updateBtn.textContent = 'ìˆ˜ì •';
                updateBtn.onclick = checkLockBeforeUpdate;
            } else {
                lockStatusEl.innerHTML = `ğŸ”’ ì ê¹€ ìƒíƒœ - ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥ ì‚¬ìš© ë¶ˆê°€ <span class="lock-timer" id="lockTimer"></span>`;
                lockStatusEl.classList.remove('unlocked');
                lockStatusEl.classList.add('locked');
                
                // ìˆ˜ì • ë²„íŠ¼ ë¹„í™œì„±í™”
                updateBtn.classList.remove('btn-update');
                updateBtn.classList.add('btn-disabled');
                updateBtn.textContent = 'ìˆ˜ì •';
                updateBtn.onclick = null;
            }
            
            // íšŒì› ëª©ë¡ ë‹¤ì‹œ ë Œë”ë§í•˜ì—¬ ë²„íŠ¼ í‘œì‹œ/ìˆ¨ê¹€ ì—…ë°ì´íŠ¸
            renderMembers();
        }

        // ì ê¸ˆ í•´ì œ
        function unlockEditButtons() {
            const password = document.getElementById('lockPassword').value;
            
            if (password === settings.editPassword) {
                isUnlocked = true;
                remainingTime = 5 * 60; // 5ë¶„ ë¦¬ì…‹
                
                // ìë™ ì ê¸ˆ íƒ€ì´ë¨¸ ì‹œì‘
                startAutoLockTimer();
                
                // ì•”í˜¸ ì…ë ¥ì¹¸ ì´ˆê¸°í™”
                document.getElementById('lockPassword').value = '';
                
                // ìƒíƒœ ì—…ë°ì´íŠ¸
                updateLockStatus();
                
                // ì•Œë¦¼ ë©”ì‹œì§€
                showAlert('ì ê¸ˆì´ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤! 5ë¶„ í›„ ìë™ìœ¼ë¡œ ì ê¹ë‹ˆë‹¤.');
                
                // í™œë™ íƒ€ì´ë¨¸ ë¦¬ì…‹ í•¨ìˆ˜ ì—°ê²°
                resetLockTimer();
            } else {
                showAlert('ì•”í˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤! ');
            }
        }

        // ìë™ ì ê¸ˆ íƒ€ì´ë¨¸ ì‹œì‘
        function startAutoLockTimer() {
            if (lockInterval) {
                clearInterval(lockInterval);
            }
            
            lockInterval = setInterval(() => {
                remainingTime--;
                
                // íƒ€ì´ë¨¸ ì—…ë°ì´íŠ¸
                updateTimerDisplay();
                
                if (remainingTime <= 0) {
                    lockEditButtons();
                }
            }, 1000);
        }

        // íƒ€ì´ë¨¸ í‘œì‹œ ì—…ë°ì´íŠ¸
        function updateTimerDisplay() {
            if (isUnlocked) {
                document.getElementById('lockTimer').textContent = `(${formatTime(remainingTime)})`;
            } else {
                document.getElementById('lockTimer').textContent = '';
            }
        }

        // ì‹œê°„ í˜•ì‹í™” (MM:SS)
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        // ì ê¸ˆ
        function lockEditButtons() {
            isUnlocked = false;
            
            if (lockInterval) {
                clearInterval(lockInterval);
                lockInterval = null;
            }
            
            updateLockStatus();
            showAlert('ìë™ ì ê¸ˆë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì•”í˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        }

        // íƒ€ì´ë¨¸ ë¦¬ì…‹ (í™œë™ ê°ì§€)
        function resetLockTimer() {
            if (isUnlocked) {
                remainingTime = 5 * 60; // 5ë¶„ìœ¼ë¡œ ë¦¬ì…‹
                updateTimerDisplay();
            }
        }

        // ìˆ˜ì • ì „ ì ê¸ˆ í™•ì¸
        function checkLockBeforeUpdate() {
            if (!isUnlocked) {
                showAlert('ìˆ˜ì • ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë¨¼ì € ì ê¸ˆì„ í•´ì œí•´ì£¼ì„¸ìš”!');
                document.getElementById('lockPassword').focus();
                return false;
            }
            resetLockTimer(); // í™œë™ ê°ì§€ - íƒ€ì´ë¨¸ ë¦¬ì…‹
            updateMember();
            return true;
        }

        // ì‚­ì œ ì „ ì ê¸ˆ í™•ì¸
        function checkLockBeforeDelete(index) {
            if (!isUnlocked) {
                showAlert('ì‚­ì œ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë¨¼ì € ì ê¸ˆì„ í•´ì œí•´ì£¼ì„¸ìš”!');
                document.getElementById('lockPassword').focus();
                return false;
            }
            resetLockTimer(); // í™œë™ ê°ì§€ - íƒ€ì´ë¨¸ ë¦¬ì…‹
            showDeleteModal(index);
            return true;
        }

        // ========== ê¸°ì¡´ ê¸°ëŠ¥ ==========

        function renderMembers() {
            const listEl = document.getElementById('listSection');
            const countEl = document.getElementById('memberCount');
            
            countEl.textContent = members.length;

            if (filteredMembers.length === 0) {
                listEl.innerHTML = `
                    <div class="empty-state">
                        <svg fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"/>
                        </svg>
                        <p>${document.getElementById('searchInput').value ? 'ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤' : 'ë“±ë¡ëœ íšŒì›ì´ ì—†ìŠµë‹ˆë‹¤'}</p>
                    </div>
                `;
                return;
            }

            listEl.innerHTML = filteredMembers.map((member, index) => {
                const originalIndex = members.indexOf(member);
                const phoneLink = member.phone ? 
                    `<div><a href="tel:${member.phone.replace(/-/g, '')}" class="phone-link">ğŸ“ ${member.phone}</a></div>` : '';
                
                let scheduleBadges = '';
                if (member.day1 && member.startTime1 && member.endTime1) {
                    scheduleBadges += `<span class="schedule-badge">${dayNames[member.day1]} ${member.startTime1}~${member.endTime1}</span>`;
                }
                if (member.day2 && member.startTime2 && member.endTime2) {
                    scheduleBadges += `<span class="schedule-badge">${dayNames[member.day2]} ${member.startTime2}~${member.endTime2}</span>`;
                }
                
                const photoThumb = member.photo ? 
                    `<img src="${member.photo}" class="member-photo" alt="${member.name}">` :
                    `<div class="member-photo" style="display: flex; align-items: center; justify-content: center; background: #f0f0f0; color: #999; font-size: 32px;">ğŸ‘¤</div>`;
                
                // ì ê¸ˆ ìƒíƒœì— ë”°ë¼ ë²„íŠ¼ í‘œì‹œ ì—¬ë¶€ ê²°ì •
                const buttonHTML = isUnlocked ? `
                    <div class="member-actions">
                        <button class="btn-edit" data-index="${originalIndex}" onclick="editMember(${originalIndex}); resetLockTimer();">
                            ìˆ˜ì •
                        </button>
                        <button class="btn-delete" data-index="${originalIndex}" onclick="showDeleteModal(${originalIndex}); resetLockTimer();">
                            ì‚­ì œ
                        </button>
                    </div>
                ` : '';
                
                return `
                <div class="member-card">
                    <div class="member-photo-container">
                        ${photoThumb}
                    </div>
                    <div class="member-content">
                        <div class="member-header">
                            <div class="member-name">${member.name}</div>
                            ${buttonHTML}
                        </div>
                        <div class="member-info">
                            ${phoneLink}
                            ${member.registerDate ? `<div>ğŸ“… ë“±ë¡ì¼: ${formatDate(member.registerDate)}</div>` : ''}
                            ${member.email ? `<div>ğŸ“§ ${member.email}</div>` : ''}
                            ${member.address ? `<div>ğŸ“ ${member.address}</div>` : ''}
                            <div style="margin-top: 8px;">
                                ${member.fee ? `<span class="info-badge">ğŸ’° ${formatNumber(member.fee)}ì›</span>` : ''}
                                ${scheduleBadges}
                            </div>
                        </div>
                    </div>
                </div>
            `}).join('');
        }

        // ... (ë‚˜ë¨¸ì§€ JavaScript í•¨ìˆ˜ë“¤ì€ ë™ì¼í•˜ê²Œ ìœ ì§€) ...

        // ì´ˆê¸°í™”
        document.getElementById('registerDate').valueAsDate = new Date();
        document.getElementById('startTime1').value = "19:00";
        document.getElementById('endTime1').value = "21:00";
        document.getElementById('startTime2').value = "19:00";
        document.getElementById('endTime2').value = "21:00";
        
        updateFeePresetButtons();
        updateLockStatus(); // ì´ˆê¸° ì ê¸ˆ ìƒíƒœ ì„¤ì •
        
        // í™œë™ ê°ì§€ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
        document.addEventListener('click', resetLockTimer);
        document.addEventListener('keydown', resetLockTimer);
        document.addEventListener('scroll', resetLockTimer);
    </script>
</body>
</html>